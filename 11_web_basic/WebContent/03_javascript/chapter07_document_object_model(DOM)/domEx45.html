<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>폼 검증</title>
<script>

	function formValidationCheck() {

		let id = document.join.id;
		let pwd = document.join.pwd;

		if (id.value == "") {
			alert("아이디는 필수 입력사항입니다.");
			id.focus();	// 선택자.focus(); > 선택된 엘리먼트에 focust 이벤트를 적용한다.
			return false;
		}

		if (pwd.value.length < 10) {
			alert("비밀번호는 10자리 이상 입력하셔야합니다.");
			pwd.focus();
			return false;
		}
		
		let gender = document.join.gender;
		if (gender.value == "") {
			alert("성별을 선택하세요.");
			gender[0].checked = true;
			gender[0].focus();
			return false;
		}

		let hobbies = document.join.hobbies;
		let isCheck = false;

		for (let index = 0; index < hobbies.length; index++) {
			if (hobbies[index].checked) {
				isCheck = true;
			}
		}

		if (!isCheck) {
			alert("취미를 최소 1개 이상 선택하세요");
			hobbies[0].checked = true;
			hobbies[0].focus();
			return false;
		}

		let travel = document.join.travel;
		if (travel.value == "없음") {
			alert("여행지를 꼭 선택하세요.");
			travel.focus();
			return false;
		}

		let memo = document.join.memo;
		if (memo.value.length < 30) {
			alert("메모는 최소 30글자 이상 작성하셔야 합니다.");
			memo.focus();
			return false;
		}

		return true; // 생략 가능

	}

</script>
</head>
<body>

	<!-- 
	
		# onsubmit 이벤트 & 폼 데이터 유효성(validation) 체크
	
		- 데이터가 서버로 전송될때 발생하는 이벤트
		- 함수의 return 값이 false일 경우 폼데이터를 서버로 전송하지 않으며 
				 return 값이 true일 경우에만 폼데이터를 서버로 전송한다.
		
	-->
	
	<form name="join" onsubmit="return formValidationCheck()">
		<fieldset>
			<legend>회원가입 폼</legend>
			<p>아이디 : <input type="text" name="id"/></p>
			<p>비밀번호 : <input type="password" name="pwd"/></p>
			<p>
				성별 : <input type="radio" name="gender" value="1"/>남자
			   		   <input type="radio" name="gender" value="2"/>여자
			</p>
			<p>
				취미 : <input type="checkbox" name="hobbies" value="운동"/>운동
					   <input type="checkbox" name="hobbies" value="잠자기"/>잠자기
					   <input type="checkbox" name="hobbies" value="공부하기"/>공부하기
			</p>
			<p>가고 싶은 여행지는
				<select name="travel">
					<option>없음</option>
					<option>괌</option>
					<option>다낭</option>
					<option>나트랑</option>
					<option>코타키나발루</option>
					<option>대만</option>
					<option>푸꾸옥</option>
				</select>
			</p>
			<p>메모<br/>
				<textarea rows="10" cols="50" name="memo"></textarea>
			</p>
			<p>
				<input type="submit" value="확인"/>
			</p>
		</fieldset>
	</form>
</body>
</html>

